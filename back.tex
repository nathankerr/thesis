% Back Matter
% Notes (if you have elected to group them at the end of the document)
% References (AKA “Bibliography” or “Works Cited”)
% Appendices
% Biographical sketch (optional)

% Notes (if you have elected to group them at the end of the document)
% References (AKA “Bibliography” or “Works Cited”)
% \clearpage
\singlespace
\pagebreak
\makeatletter
\renewenvironment{thebibliography}[1]
	{\hspace{-1em}\textbf{BIBLIOGRAPHY}%
      \list{\@biblabel{\@arabic\c@enumiv}}%
           {\settowidth\labelwidth{\@biblabel{#1}}%
            \leftmargin\labelwidth
            \advance\leftmargin\labelsep
            \@openbib@code
            \usecounter{enumiv}%
            \let\p@enumiv\@empty
            \renewcommand\theenumiv{\@arabic\c@enumiv}}%
      \sloppy
      \clubpenalty4000
      \@clubpenalty \clubpenalty
      \widowpenalty4000%
      \sfcode`\.\@m}
     {\def\@noitemerr
       {\@latex@warning{Empty `thebibliography' environment}}%
      \endlist}
\makeatother
\addcontentsline{toc}{listchapter}{BIBLIOGRAPHY}
\bibliography{thesis}
\bibliographystyle{ieeetr}

% Make a new chapter command so the !#$#@ appendix cover pages are the
% way the @#$# format manual wants them
\makeatletter
\addtocontents{toc}{\protect{\hspace{-1.5em}APPENDIX}}
\renewcommand\appendixname{APPENDIX}
\def\@makechapterhead#1{%
	\clearpage
	% \vspace{-0.5in}
	% \begin{center}
	% 	\@chapapp\space \thechapter\\
	% 	~\\
	% 	#1
	% \end{center}
	\fancypagestyle{plain}{%
		\fancyhf{}
		\fancyhead[C]{\@chapapp\space \thechapter}
		\renewcommand{\headrulewidth}{0pt}
		\renewcommand{\footrulewidth}{0pt}
	}
	
	\protect{\hfill #1 \hfill}
	
	\thispagestyle{plain}
	\clearpage
}
\makeatother

% Appendices
\appendix
% \addcontentsline{toc}{appendixchapter}{HADOOPGIS SOURCE}
\chapter{HADOOPGIS SOURCE}

\doublespacing
The complete source for hadoopGIS is included in this appendix. HadoopGIS
is also available at \url{http://github.com/nathankerr/hadoopGIS}.

The source is divided into two sections, the core code and the examples.

\section{Core}

These listings comprise the core components of hadoopGIS, implementing
the GIS datatype and the facilities to extract GIS records from a file
into the mapper, pass GIS data from mappers to reducers, and from reducers
back to a file.
\singlespace

\subsection{GIS.java}
\lstinputlisting[nolol,language=]{hadoopGIS/src/GIS.java}
\subsection{GISInputFormat.java}
\lstinputlisting[nolol,language=]{hadoopGIS/src/GISInputFormat.java}
\subsection{GISRecordReader.java}
\lstinputlisting[nolol,language=]{hadoopGIS/src/GISRecordReader.java}
\subsection{GISOutputFormat.java}
\lstinputlisting[nolol,language=]{hadoopGIS/src/GISOutputFormat.java}
\subsection{GISRecordWriter.java}
\lstinputlisting[nolol,language=]{hadoopGIS/src/GISRecordWriter.java}

\section{Operations}

\doublespacing
These listings are the complete code for the required operations. Each
operation is contained in one source file.
\singlespace

\subsection{Create}
\lstinputlisting[nolol,language=]{hadoopGIS/src/examples/create.java}
\subsection{Read}
\lstinputlisting[nolol,language=]{hadoopGIS/src/examples/read.java}
\subsection{Update}
\lstinputlisting[nolol,language=]{hadoopGIS/src/examples/update.java}
\subsection{Delete}
\lstinputlisting[nolol,language=]{hadoopGIS/src/examples/delete.java}
\subsection{Filter}
\lstinputlisting[nolol,language=]{hadoopGIS/src/examples/filter.java}
\subsection{Nearest}
\lstinputlisting[nolol,language=]{hadoopGIS/src/examples/nearest.java}
\subsection{Chained}
\lstinputlisting[nolol,language=]{hadoopGIS/src/examples/chained.java}

% \addcontentsline{toc}{appendixchapter}{CLUSTERGIS SOURCE}
\chapter{CLUSTERGIS SOURCE}

\doublespacing
The complete source for clusterGIS is included in this appendix. ClusterGIS
is also available at \url{http://github.com/nathankerr/clusterGIS}.

The clusterGIS listings are comprised of two sections: the library and
the example implementations.

\section{Library}

The core clusterGIS library is contained in clustergis.c. To use
clusterGIS, include clusterGIS.h in your processing implementation and
link clusterGIS with your code.
\singlespace

\subsection{clustergis.h}
\lstinputlisting[nolol,language=]{clusterGIS/src/clustergis.h}
\subsection{clustergis.c}
\lstinputlisting[nolol,language=]{clusterGIS/src/clustergis.c}

\section{Operations}

\doublespacing
These listings implement the operations used for this thesis.
\singlespace

\subsection{Create}
\lstinputlisting[nolol,language=]{clusterGIS/examples/create.c}
\subsection{Read}
\lstinputlisting[nolol,language=]{clusterGIS/examples/read.c}
\subsection{Update}
\lstinputlisting[nolol,language=]{clusterGIS/examples/update.c}
\subsection{Delete}
\lstinputlisting[nolol,language=]{clusterGIS/examples/delete.c}
\subsection{Filter}
\lstinputlisting[nolol,language=]{clusterGIS/examples/filter.c}
\subsection{Nearest}
\lstinputlisting[nolol,language=]{clusterGIS/examples/nearest.c}
\subsection{Chained}
\lstinputlisting[nolol,language=]{clusterGIS/examples/chained.c}

% Biographical sketch (optional)

